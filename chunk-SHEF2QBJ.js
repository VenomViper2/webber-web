import{a as O}from"./chunk-F4ZOWRPP.js";import{b as y}from"./chunk-QAD27B26.js";import{j as k}from"./chunk-YRXTET72.js";import{$a as C,Da as E,Ha as b,Ja as d,Ka as s,La as n,Ma as e,Na as p,Qa as g,Ua as i,Va as u,W as _,Wa as o,Xa as P,Ya as I,ab as v,va as c,wa as h}from"./chunk-M4C75B33.js";var F=(a,r)=>r.name;function M(a,r){return this.character.equipment}function $(a,r){return this.character.inventory}function q(a,r){if(a&1&&(n(0,"tr")(1,"td"),i(2),C(3,"titlecase"),e(),n(4,"td"),i(5),e()()),a&2){let t=r.$implicit;c(2),u(v(3,2,t.name)),c(3),u(t.value)}}function A(a,r){if(a&1&&(n(0,"tr",2)(1,"td",3),i(2),C(3,"titlecase"),e()(),d(4,q,6,4,"tr",null,F)),a&2){let t=r.$implicit,l=g(2);c(2),P("",v(3,2,t.name),": ",t.level,""),c(2),s(l.getSkills(t.skills))}}function R(a,r){if(a&1&&(n(0,"td",1),i(1),e()),a&2){let t=r.$implicit;c(),u(t.name)}}function j(a,r){if(a&1&&(n(0,"td",1),i(1),e()),a&2){let t=r.$implicit;c(),u(t)}}function w(a,r){if(a&1&&(n(0,"h2"),i(1,"Character Details"),e(),n(2,"p")(3,"strong"),i(4),e()(),n(5,"p")(6,"strong"),i(7),e()(),n(8,"p")(9,"strong"),i(10),e()(),n(11,"h2"),i(12,"Attributes & Skills"),e(),n(13,"table"),d(14,A,6,4,null,null,F),e(),n(16,"h2"),i(17,"Feats"),e(),n(18,"table")(19,"tr")(20,"td"),i(21,"Red:"),e(),n(22,"td",0),i(23),e(),n(24,"td"),i(25,"Green:"),e(),n(26,"td",0),i(27),e(),n(28,"td"),i(29,"Blue:"),e(),n(30,"td",0),i(31),e(),n(32,"td"),i(33,"Gold:"),e(),n(34,"td",0),i(35),e()()(),n(36,"h2"),i(37,"Equipment & Inventory"),e(),n(38,"table")(39,"tr")(40,"td")(41,"strong"),i(42,"Equipment:"),e()(),d(43,R,2,1,"td",1,M,!0),e(),n(45,"tr")(46,"td")(47,"strong"),i(48,"Inventory:"),e()(),d(49,j,2,1,"td",1,$,!0),e()(),n(51,"h2"),i(52,"Magical Properties"),e(),n(53,"table")(54,"tr")(55,"td"),i(56,"Focus:"),e(),p(57,"td"),e(),n(58,"tr")(59,"td"),i(60,"Attunement:"),e(),p(61,"td"),e(),n(62,"tr")(63,"td"),i(64,"Tome:"),e(),p(65,"td"),e(),n(66,"tr")(67,"td"),i(68,"Twists:"),e(),p(69,"td"),e()(),n(70,"h2"),i(71,"Special Feats"),e(),n(72,"table")(73,"tr")(74,"td")(75,"strong"),i(76,"Heavy Strikes"),e()()(),n(77,"tr")(78,"td")(79,"strong"),i(80,"Passive:"),e()()(),n(81,"tr")(82,"td"),i(83,"Red"),e()()()),a&2){let t=g();c(4),o("Name: ",t.character.name,""),c(3),o("Player: ",t.character.player,""),c(3),o("Level: ",t.getLevel(),""),c(4),s(t.character==null?null:t.character.attribute),c(9),o("/",t.character.feats.red,""),c(4),o("/",t.character.feats.green,""),c(4),o("/",t.character.feats.blue,""),c(4),o("/",t.character.feats.gold,""),c(8),s(t.character.equipment),c(6),s(t.character.inventory)}}function D(a,r){a&1&&(n(0,"p"),i(1,"Character not found"),e())}var T=class a{constructor(r,t){this.route=r;this.characterService=t}character;ngOnInit(){this.route.params.subscribe(r=>{let t=r.id;this.characterService.getCharacter(t).subscribe({next:l=>{l&&(this.character=l)},error:l=>{console.error("Error loading Character:",l)}})})}getSkills(r){return Object.entries(r).filter(([t,l])=>l!==void 0).map(([t,l])=>({name:t,value:l}))}getLevel(){if(!this.character)return 0;let r=this.character.attribute.reduce((f,x)=>f+x.level,0),t=this.character.attribute.reduce((f,x)=>f+Object.values(x.skills).filter(S=>S!==void 0&&S>=3).length,0),l=r+t,m=1;return l>=30?m=6:l>=25?m=5:l>=20?m=4:l>=15?m=3:l>=10&&(m=2),m}static \u0275fac=function(t){return new(t||a)(h(y),h(O))};static \u0275cmp=_({type:a,selectors:[["app-character-page"]],standalone:!0,features:[I],decls:2,vars:1,consts:[[1,"center"],["colspan","3"],[1,"section-title"],["colspan","2"]],template:function(t,l){t&1&&E(0,w,84,7)(1,D,2,0,"p"),t&2&&b(l.character?0:1)},dependencies:[k],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-bottom:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid black;padding:8px;text-align:left}th[_ngcontent-%COMP%]{background-color:#f4f4f4}.section-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.2em;background-color:#ddd}.center[_ngcontent-%COMP%]{text-align:center}"]})};export{T as CharacterPageComponent};
