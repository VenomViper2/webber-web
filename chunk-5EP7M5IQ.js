import{a as I}from"./chunk-BPZCHRFW.js";import{a as y}from"./chunk-LB2KTQNI.js";import{b as w}from"./chunk-TTF4L6PE.js";import{j as k}from"./chunk-RY565XR7.js";import{Da as S,Ha as P,Ia as g,Ka as p,La as s,Ma as n,Na as e,Oa as d,Ra as x,Va as i,W as b,Wa as c,Xa as E,Ya as O,Za as M,ab as f,bb as h,va as l,wa as C}from"./chunk-PIMBEKZP.js";var F=(a,r)=>r.name;function L(a,r){if(a&1&&(n(0,"tr")(1,"td"),i(2),f(3,"titlecase"),e(),n(4,"td"),i(5),e()()),a&2){let t=r.$implicit;l(2),c(h(3,2,t.name)),l(3),c(t.value)}}function B(a,r){if(a&1&&(n(0,"tr",11)(1,"td",14),i(2),f(3,"titlecase"),e()(),p(4,L,6,4,"tr",null,F)),a&2){let t=r.$implicit,o=x(2);l(2),O("",h(3,2,t.name),": ",t.level,""),l(2),s(o.getSkills(t.skills))}}function A(a,r){if(a&1&&(n(0,"tr")(1,"td"),i(2),f(3,"titlecase"),e(),n(4,"td",15),i(5),e()()),a&2){let t=r.$implicit,o=x(2);l(2),c(h(3,2,t)),l(3),E("/ ",o.getLightLevel(t),"")}}function N(a,r){if(a&1&&(n(0,"div",13),i(1),e()),a&2){let t=r.$implicit;l(),c(t.name)}}function $(a,r){if(a&1&&(n(0,"div",13),i(1),f(2,"titlecase"),e()),a&2){let t=r.$implicit;l(),c(h(2,1,t))}}function j(a,r){if(a&1&&(n(0,"div",0)(1,"h2",2),i(2,"Character Details"),e(),n(3,"div",3)(4,"div",4)(5,"div",5),i(6,"Name"),e(),n(7,"div",6),i(8),e()(),n(9,"div",4)(10,"div",5),i(11,"Player"),e(),n(12,"div",6),i(13),e()(),n(14,"div",4)(15,"div",5),i(16,"Level"),e(),n(17,"div",6),i(18),e()()(),n(19,"h2",7),i(20,"Attributes & Skills"),e(),n(21,"table",8),p(22,B,6,4,null,null,F),e(),n(24,"h2",7),i(25,"Feats"),e(),n(26,"table",8),p(27,A,6,4,"tr",null,g),e(),n(29,"h2",7),i(30,"Equipment & Inventory"),e(),n(31,"div",9)(32,"div",10)(33,"h3",11),i(34,"Equipment"),e(),n(35,"div",12),p(36,N,2,1,"div",13,g),e()(),n(38,"div",10)(39,"h3",11),i(40,"Inventory"),e(),n(41,"div",12),p(42,$,3,3,"div",13,g),e()()(),n(44,"h2",7),i(45,"Magical Properties"),e(),n(46,"table",8)(47,"tr")(48,"td"),i(49,"Focus:"),e(),d(50,"td"),e(),n(51,"tr")(52,"td"),i(53,"Attunement:"),e(),d(54,"td"),e(),n(55,"tr")(56,"td"),i(57,"Tome:"),e(),d(58,"td"),e(),n(59,"tr")(60,"td"),i(61,"Twists:"),e(),d(62,"td"),e()(),n(63,"h2",7),i(64,"Special Feats"),e(),n(65,"table",8)(66,"tr",11)(67,"td",14),i(68,"Heavy Strikes"),e()(),n(69,"tr")(70,"td")(71,"strong"),i(72,"Passive:"),e()(),d(73,"td"),e()()()),a&2){let t=x();l(8),c(t.character.name),l(5),c(t.character.player),l(5),c(t.getLevel()),l(4),s(t.character.attribute),l(5),s(t.character.feats),l(9),s(t.character.equipment),l(6),s(t.character.inventory)}}function q(a,r){a&1&&d(0,"app-not-found",1)}var T=class a{constructor(r,t){this.route=r;this.characterService=t}character;ngOnInit(){this.initCharacter()}initCharacter(){this.route.params.subscribe(r=>{let t=r.id;this.characterService.getCharacter(t).subscribe({next:o=>{o&&(this.character=o)},error:o=>{console.error("Error loading Character:",o)}})})}getSkills(r){return Object.entries(r).filter(([t,o])=>o!==void 0).map(([t,o])=>({name:t,value:o}))}getLightLevel(r){if(!this.character||!this.character.attribute)return 0;switch(r){case"red":return this.character.attribute[0].level+this.getLevel();case"green":return this.character.attribute[1].level+this.getLevel();case"blue":return this.character.attribute[2].level+this.getLevel();case"gold":return this.character.attribute[3].level+this.getLevel();default:return 0}}getLevel(){if(!this.character)return 0;let r=this.character.attribute.reduce((u,v)=>u+v.level,0),t=this.character.attribute.reduce((u,v)=>u+Object.values(v.skills).filter(_=>_!==void 0&&_>=3).length,0),o=r+t,m=1;return o>=30?m=6:o>=25?m=5:o>=20?m=4:o>=15?m=3:o>=10&&(m=2),m}static \u0275fac=function(t){return new(t||a)(C(w),C(y))};static \u0275cmp=b({type:a,selectors:[["app-character-page"]],standalone:!0,features:[M],decls:2,vars:1,consts:[[1,"app-container"],["message","Character Not Found"],[1,"title","center"],[1,"character-info"],[1,"info-row"],[1,"info-label"],[1,"info-value"],[1,"name","mt-1"],[1,"character-table"],[1,"inventory-container"],[1,"section"],[1,"section-header"],[1,"items-grid"],[1,"item-card"],["colspan","2"],[1,"text-center"]],template:function(t,o){t&1&&S(0,j,74,3,"div",0)(1,q,1,0,"app-not-found",1),t&2&&P(o.character?0:1)},dependencies:[k,I],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-bottom:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid black;padding:8px;text-align:left}th[_ngcontent-%COMP%]{background-color:#f4f4f4}.section-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.2em;background-color:#ddd}.character-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-bottom:1rem;background:#fff;border-radius:8px;overflow:hidden;box-shadow:0 2px 4px #0000001a}.character-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem 1rem;border:1px solid #e5e7eb}.section-header[_ngcontent-%COMP%]{background:#f3f4f6;font-weight:700}.text-center[_ngcontent-%COMP%]{text-align:center}.mt-1[_ngcontent-%COMP%]{margin-top:1rem}.inventory-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.section[_ngcontent-%COMP%]{background:#fff;padding:1rem;border-radius:8px;box-shadow:0 2px 4px #0000001a}.section-header[_ngcontent-%COMP%]{font-weight:700;font-size:1.2em;background-color:#f3f4f6;padding:.5rem;border-radius:6px}.items-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;padding:.5rem}.item-card[_ngcontent-%COMP%]{background:#f8f9fa;padding:.75rem 1rem;border-radius:6px;border:1px solid #e5e7eb;box-shadow:0 1px 3px #0000001a}.character-info[_ngcontent-%COMP%]{width:100%;background:#fff;border-radius:8px;overflow:hidden;box-shadow:0 2px 8px #0000001a;padding:1rem}.info-row[_ngcontent-%COMP%]{display:flex;padding:.75rem;border-bottom:1px solid #edf2f7;transition:background-color .2s ease}.info-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.info-row[_ngcontent-%COMP%]:hover{background-color:#f7fafc}.info-label[_ngcontent-%COMP%]{flex:0 0 120px;font-weight:600;color:#4a5568}.info-value[_ngcontent-%COMP%]{flex:1;color:#2d3748}@media (max-width: 480px){.info-row[_ngcontent-%COMP%]{flex-direction:column;gap:.25rem}.info-label[_ngcontent-%COMP%]{flex:none}}"]})};export{T as CharacterPageComponent};
